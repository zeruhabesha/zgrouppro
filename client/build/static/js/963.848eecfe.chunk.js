"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[963],{9963:(e,a,s)=>{s.r(a),s.d(a,{default:()=>m});var r=s(5043),n=s(6213),l=(s(2999),s(1460)),i=s(449),t=s(1273),c=s(4282),o=s(5284),d=s(2462),h=(s(8421),s(579));const m=()=>{const[e,a]=(0,r.useState)([]),[s,m]=(0,r.useState)({username:"",email:"",password:"",role:""}),[x,p]=(0,r.useState)(null),[j,u]=(0,r.useState)(!1),[N,A]=(0,r.useState)(!1),[b,f]=(0,r.useState)(!1),[v,k]=(0,r.useState)(null),y=localStorage.getItem("token");(0,r.useEffect)((()=>{g()}),[]);const g=async()=>{try{const e=await n.A.get("/api/admins",{headers:{Authorization:`Bearer ${y}`}});a(e.data)}catch(e){console.error("Error fetching admins",e)}},w=e=>{const{name:a,value:r}=e.target;m({...s,[a]:r})};return(0,h.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,h.jsx)(l.A,{}),(0,h.jsxs)("div",{className:"flex flex-grow",children:[(0,h.jsx)(t.A,{}),(0,h.jsxs)("div",{className:"container mx-auto p-4",children:[(0,h.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Admin Management"}),(0,h.jsx)(c.A,{onClick:()=>u(!0),className:"mb-4",children:"Create New Admin"}),(0,h.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{className:"bg-gray-100 border-b",children:[(0,h.jsx)("th",{className:"py-2 px-4 text-left",children:"Username"}),(0,h.jsx)("th",{className:"py-2 px-4 text-left",children:"Email"}),(0,h.jsx)("th",{className:"py-2 px-4 text-left",children:"Role"}),(0,h.jsx)("th",{className:"py-2 px-4 text-left",children:"Actions"})]})}),(0,h.jsx)("tbody",{children:e.map((e=>(0,h.jsxs)("tr",{className:"border-b",children:[(0,h.jsx)("td",{className:"py-2 px-4",children:e.username}),(0,h.jsx)("td",{className:"py-2 px-4",children:e.email}),(0,h.jsx)("td",{className:"py-2 px-4",children:e.role}),(0,h.jsxs)("td",{className:"py-2 px-4 flex space-x-2",children:[(0,h.jsx)(c.A,{variant:"primary",className:"btn btn-primary no-underline",onClick:()=>(e=>{p(e),m(e),f(!0)})(e),children:"Edit"}),(0,h.jsx)(c.A,{variant:"danger",className:"btn btn-danger no-underline",onClick:()=>(e=>{k(e),A(!0)})(e),children:"Delete"})]})]},e._id)))})]})]})]}),(0,h.jsx)(i.A,{}),(0,h.jsxs)(o.A,{show:j,onHide:()=>u(!1),children:[(0,h.jsx)(o.A.Header,{closeButton:!0,children:(0,h.jsx)(o.A.Title,{children:x?"Edit Admin":"Create Admin"})}),(0,h.jsx)(o.A.Body,{children:(0,h.jsxs)(d.A,{onSubmit:x?async r=>{r.preventDefault();try{const r=await n.A.put(`/api/admins/${x._id}`,s,{headers:{Authorization:`Bearer ${y}`}}),l=e.map((e=>e._id===x._id?r.data.admin:e));a(l),u(!1),p(null),m({username:"",email:"",password:"",role:""})}catch(l){console.error("Error updating admin",l)}}:async r=>{r.preventDefault();try{const r=await n.A.post("/api/admins/create",s,{headers:{Authorization:`Bearer ${y}`}});a([...e,r.data.newAdmin]),u(!1),m({username:"",email:"",password:"",role:""})}catch(l){console.error("Error creating admin",l)}},children:[(0,h.jsxs)(d.A.Group,{controlId:"formUsername",children:[(0,h.jsx)(d.A.Label,{children:"Username"}),(0,h.jsx)(d.A.Control,{type:"text",name:"username",value:s.username,onChange:w,placeholder:"Enter username",required:!0})]}),(0,h.jsxs)(d.A.Group,{controlId:"formEmail",className:"mt-3",children:[(0,h.jsx)(d.A.Label,{children:"Email"}),(0,h.jsx)(d.A.Control,{type:"email",name:"email",value:s.email,onChange:w,placeholder:"Enter email",required:!0})]}),(0,h.jsxs)(d.A.Group,{controlId:"formPassword",className:"mt-3",children:[(0,h.jsx)(d.A.Label,{children:"Password"}),(0,h.jsx)(d.A.Control,{type:"password",name:"password",value:s.password,onChange:w,placeholder:"Enter password",required:!0})]}),(0,h.jsxs)(d.A.Group,{controlId:"formRole",className:"mt-3",children:[(0,h.jsx)(d.A.Label,{children:"Role"}),(0,h.jsx)(d.A.Control,{type:"text",name:"role",value:s.role,onChange:w,placeholder:"Enter role",required:!0})]}),(0,h.jsx)(c.A,{variant:"primary",type:"submit",className:"mt-4",children:x?"Update Admin":"Create Admin"})]})})]}),(0,h.jsxs)(o.A,{show:N,onHide:()=>A(!1),children:[(0,h.jsx)(o.A.Header,{closeButton:!0,children:(0,h.jsx)(o.A.Title,{children:"Confirm Delete"})}),(0,h.jsx)(o.A.Body,{children:"Are you sure you want to delete this admin?"}),(0,h.jsxs)(o.A.Footer,{children:[(0,h.jsx)(c.A,{variant:"secondary",onClick:()=>A(!1),children:"Cancel"}),(0,h.jsx)(c.A,{variant:"danger",onClick:async()=>{try{await n.A.delete(`/api/admins/${v._id}`,{headers:{Authorization:`Bearer ${y}`}}),a(e.filter((e=>e._id!==v._id))),A(!1)}catch(s){console.error("Error deleting admin",s)}},children:"Delete"})]})]}),(0,h.jsxs)(o.A,{show:b,onHide:()=>f(!1),children:[(0,h.jsx)(o.A.Header,{closeButton:!0,children:(0,h.jsx)(o.A.Title,{children:"Confirm Edit"})}),(0,h.jsx)(o.A.Body,{children:"Are you sure you want to edit this admin?"}),(0,h.jsxs)(o.A.Footer,{children:[(0,h.jsx)(c.A,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),(0,h.jsx)(c.A,{variant:"primary",onClick:()=>{f(!1),u(!0)},children:"Edit"})]})]})]})}},449:(e,a,s)=>{s.d(a,{A:()=>n});s(5043);var r=s(579);const n=()=>(0,r.jsx)("footer",{className:"bg-blue-600 p-4 text-white text-center",children:(0,r.jsx)("p",{children:"\xa9 2024 Your Company. All rights reserved."})})},1460:(e,a,s)=>{s.d(a,{A:()=>n});s(5043);var r=s(579);const n=()=>(0,r.jsx)("nav",{className:"bg-blue-600 p-4 text-white",children:(0,r.jsx)("h1",{className:"text-lg font-bold",children:"Admin Dashboard"})})},1273:(e,a,s)=>{s.d(a,{A:()=>t});var r=s(5043),n=s(5475),l=s(3825),i=s(579);const t=()=>{const[e,a]=(0,r.useState)(!1),s=()=>{a(!e)};return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("button",{className:"lg:hidden text-black p-4 focus:outline-none",onClick:s,children:e?(0,i.jsx)(l.zhF,{size:24}):(0,i.jsx)(l.mu4,{size:24})}),(0,i.jsx)("div",{className:`fixed top-0 left-0 w-64 h-full bg-gray-800 text-white z-40 transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:relative lg:w-64 lg:transform-none`,children:(0,i.jsxs)("ul",{className:"space-y-6 p-4",children:[" ",(0,i.jsx)("li",{children:(0,i.jsx)(n.N_,{to:"/dashboard",className:"block px-4 py-2 no-underline text-white hover:bg-black transition-colors duration-300",onClick:s,children:"Dashboard"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.N_,{to:"/dashboard/admin",className:"block px-4 py-2 no-underline text-white hover:bg-black transition-colors duration-300",onClick:s,children:"Admin"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.N_,{to:"/dashboard/category",className:"block px-4 py-2 no-underline text-white hover:bg-black transition-colors duration-300",onClick:s,children:"Categories"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.N_,{to:"/dashboard/company",className:"block px-4 py-2 no-underline text-white hover:bg-black transition-colors duration-300",onClick:s,children:"Companies"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.N_,{to:"/dashboard/promotion",className:"block px-4 py-2 no-underline text-white hover:bg-black transition-colors duration-300",onClick:s,children:"Promotion"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.N_,{to:"#",className:"block px-4 py-2 no-underline text-white hover:bg-black transition-colors duration-300",onClick:s,children:"Payment"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.N_,{to:"#",className:"block px-4 py-2 no-underline text-white hover:bg-black transition-colors duration-300",onClick:s,children:"Report"})})]})}),e&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black opacity-50 z-30 lg:hidden",onClick:s})]})}},2999:(e,a,s)=>{s.d(a,{A:()=>d});var r=s(5043),n=s(1431),l=s(3519),i=s(9549),t=s(5475),c=s(184),o=s(579);const d=()=>{const[e,a]=(0,r.useState)(!1),[s,d]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=()=>{window.scrollY>50?d(!0):d(!1)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,o.jsx)(n.A,{bg:s?"primary":"dark",variant:"dark",expand:"lg",sticky:"top",className:"transition-all duration-300 "+(s?"shadow-lg":""),children:(0,o.jsxs)(l.A,{children:[(0,o.jsx)(n.A.Brand,{as:t.N_,to:"/",className:"text-white",children:"Z-GROUP"}),(0,o.jsx)(n.A.Toggle,{"aria-controls":"responsive-navbar-nav",onClick:()=>{a(!e)},className:"text-white",children:e?(0,o.jsx)(c.QCr,{size:24}):(0,o.jsx)(c.OXb,{size:24})}),(0,o.jsx)(n.A.Collapse,{id:"responsive-navbar-nav",className:""+(e?"show":""),children:(0,o.jsxs)(i.A,{className:"ml-auto",children:[(0,o.jsx)(i.A.Link,{as:t.N_,to:"/",className:"flip-container ml-4",children:(0,o.jsx)("div",{className:"flip-card",children:(0,o.jsxs)("div",{className:"flip-card-inner",children:[(0,o.jsx)("div",{className:"flip-card-front",children:"Home"}),(0,o.jsx)("div",{className:"flip-card-back",children:"Home"})]})})}),(0,o.jsx)(i.A.Link,{as:t.N_,to:"/about",className:"flip-container ml-4",children:(0,o.jsx)("div",{className:"flip-card",children:(0,o.jsxs)("div",{className:"flip-card-inner",children:[(0,o.jsx)("div",{className:"flip-card-front",children:"About"}),(0,o.jsx)("div",{className:"flip-card-back",children:"About"})]})})}),(0,o.jsx)(i.A.Link,{as:t.N_,to:"/companies",className:"flip-container ml-4",children:(0,o.jsx)("div",{className:"flip-card",children:(0,o.jsxs)("div",{className:"flip-card-inner",children:[(0,o.jsx)("div",{className:"flip-card-front",children:"Companies"}),(0,o.jsx)("div",{className:"flip-card-back",children:"Companies"})]})})}),(0,o.jsx)(i.A.Link,{as:t.N_,to:"/promotions",className:"flip-container ml-4",children:(0,o.jsx)("div",{className:"flip-card",children:(0,o.jsxs)("div",{className:"flip-card-inner",children:[(0,o.jsx)("div",{className:"flip-card-front",children:"Promotions"}),(0,o.jsx)("div",{className:"flip-card-back",children:"Promotions"})]})})}),(0,o.jsx)(i.A.Link,{as:t.N_,to:"/contact",className:"flip-container ml-4",children:(0,o.jsx)("div",{className:"flip-card",children:(0,o.jsxs)("div",{className:"flip-card-inner",children:[(0,o.jsx)("div",{className:"flip-card-front",children:"Contact"}),(0,o.jsx)("div",{className:"flip-card-back",children:"Contact"})]})})}),(0,o.jsx)(i.A.Link,{as:t.N_,to:"/login",className:"flip-container ml-4",children:(0,o.jsx)("div",{className:"flip-card",children:(0,o.jsxs)("div",{className:"flip-card-inner",children:[(0,o.jsx)("div",{className:"flip-card-front",children:"Login"}),(0,o.jsx)("div",{className:"flip-card-back",children:"Login"})]})})})]})})]})})}}}]);
//# sourceMappingURL=963.848eecfe.chunk.js.map